---
layout:     post 
title:      Java面试
subtitle:   面试题
date:       2019-10-09
author:     张鹏
header-img: img/home-bg.jpg
catalog: true   
tags:                         
    - Java面试题
---

#### 1. 面向对象的特征有哪些方面？

- 封装
   - 最常见的是把属性私有化封装到一个类中，只能通过方法去访问
- 继承
   - 子类继承父类，从而继承父类的方法和属性
- 抽象
   - 比如一个英雄类，抽象出了name、hp这些属性，使得开发过程中更加容易理解
- 多态
   - 多态分操作符的多态和类的多态。类的多态指的是父类引用指向子类对象，并且有继承，有重写

#### 2. String是最基本的数据类型吗？

- String是类类型，不是基本类型
- 基本类型有八种，分别是：
   - 整形（4种）：int、byte、short、long
   - 字符型：String
   - 浮点型：float、double
   - 布尔型：Boolean

#### 3. int 和Integer有什么区别？

- int是基本类型32位长度的整数
- Integer是类类型，是int的封装类
- int和Integer之间可以通过自动装箱、自动拆箱互相转换

#### 4. String和StringBuffer的区别

- String是immutable的，其内容一旦创建好之后，就不可以发生改变
- StringBuffer是可以变长的，内容也可以发生改变
- 改变的原理是StringBuffer内部采用了字符数组存放数据，在需要增加长度的时候，创建新的数组，并且把原来的数据复制到新的数组这样的办法来实现

#### 5. 运行时异常与一般异常有什么异同？

- 运行时异常又叫做非可查异常，在编译过程中，不要求必须进行显式捕捉
- 一般异常又叫做可查异常，在编译过程中，必须进行处理，要么捕捉，要么通过throws抛出去

#### 6. 说出ArrayList、Vector、LinkedList的存储性能和特性

- 先说ArrayList和Vector
   - 两者都继承了抽象类AbstractList，但Vector是线程安全的，而ArrayList是非线程安全的
- 再说ArrayList和LinkedList
   - ArrayList是数组结构，所以定位很快，但是插入和删除慢
   - LinkedList是双向链表结构，所以插入和删除很快，但是定位很慢

#### 7. Collection和Collections的区别

- Collection是接口，是List和Set的父接口
- Collections是工具类，提供了排序、混淆等等很多实用的方法

#### 8. &和&&的区别

- &有两个作用，分别是**位与**和**逻辑与**
- &&就是**逻辑与**
- 作为逻辑与，&和&&分别表示**长路与**和**短路与**
   - 长路与两侧，都会被运算
   - 短路与，只要第一个是false，第二个就不进行运算了

#### 9. HashMap和Hashtable的区别

- HashMap和Hashtable都实现了Map接口，都是键值对保存数据的方式
- 区别1：
   - HashMap可以存放null
   - Hashtable不能存放null
- 区别2：
   - HashMap不是线程安全的类
   - Hashtable是线程安全的类

#### 10. final、finally、finalize的区别

- final
   - final修饰类、方法、基本类型变量，引用的时候分别有不同的意思
   - 修饰类：表示该类不能被继承
   - 修饰方法：表示该方法不能被重写
   - 修饰基本类型变量：表示该变量只能被赋值一次
   - 修饰引用：表示该引用只有一次指向对象的机会
- finally
   - finally是用于异常处理的，无论是否有异常抛出，都会执行
- finalize
   - finalize是Object的方法，所有类都继承了该方法。当一个对象满足垃圾回收的条件，并且被回收的时候，其finalize()方法就会被调用

#### 11. Overload和Override的区别。Overload的方法是否可以改变返回值的类型？

- Overload是方法重载的意思，指的是在同一个类里面，方法名一样，但是参数不一样
- Override是方法重写的意思，指的是子类继承父类的某一个方法后，重新又写了一遍
- Overload可以改变返回值的类型，重载本质上就是完全不同的方法，只不过恰好取了一样的名字

#### 12. Error和Exception有什么区别？

- Error和Exception都实现了Throwable接口
- Error指的是JVM层面的错误，比如内存不足OutOfMemoryError
- Exception指的是代码逻辑的异常，比如下标越界OutOfIndexException

#### 13. abstract class和Interface有什么区别？

- 其实就是抽象类和接口的区别
- 抽象类只能通过继承被使用，接口必须通过实现被使用
- 抽象类不仅可以提供抽象方法，也可以提供实现方法
- 接口只能提供抽象方法，不能提供实现方法。但是在Java8版本开始，接口可以提供实现方法了，前提是要在方法前面加一个default修饰符

#### 14. heap和stack有什么区别？

- 存放的内容不一样
   - heap（堆）是存放对象的
   - stack（栈）是存放基本类型（int，float、boolean等等）、引用（对象地址）、方法调用
- 存取方式不一样
   - heap：是自动增加大小的，所以不需要指定大小，但是存取相对较慢
   - stack：是固定大小的，并且使FILO先入后出的顺序，并且存取速度比较快

#### 15. GC是什么？为什么要有GC？

- GC是Garbage Collection的缩写，即垃圾回收。
- 这里所谓的垃圾，指的是那些不再被使用的对象。JVM的垃圾回收机制使得开发人员从无聊、容易犯错的手动释放内存中解放出来。开发人员可以更加专注的进行业务功能的开发，而资源回收的工作交由更加专业的垃圾回收机制自动完成

#### 16. `short s1=1;s1=s1+1;`有什么错？

- `short s1=1;`：这一句没有错误，编译器会自动把1这个整数处理为short
- `s1=s1+1;`：右侧的表达式会返回一个int类型的整数，再把这个int类型的整数赋值给short类型的s1的时候，就会出现强制转换错误

#### 17. `Math.round(11.5)`等于多少？`Math.round(-11.5)`等于多少？

- Math.round的意思是+0.5取整数。
- 所以第一个是12，第二个是-11

#### 18. `String s=new String("xyz");`创建了几个String Object？

- 首先构造方法`new String("xyz")`中的`xyz`本身就是一个字符串对象
- 然后new关键字一定会创建一个对象
- 所以共创建了两个String对象

#### 19. Java有没有goto

- 有，goto是关键字，但是是保留字，并不具备功能性

#### 20. 接口是否可以继承接口？抽象类是否可以实现（implements）接口？抽象类是否可以继承实体类（concrete class）？

- 接口可以继承接口，比如List就继承了接口Collection
- 抽象类可以实现接口，比如MouseAdapter鼠标监听适配器是一个抽象类，并且实现了MouseLinster接口
- 抽象类可以继承实体类，所有抽象类都继承了Object

#### 21. List、Set、Map是否继承自Collection接口？

- List和Set继承了Collection接口
- 但是Map和Collection之间没有继承关系，因为一个是键值对容器，一个是单值容器，无法兼容

#### 22. abstract的method是否可同时是static，是否可同时是synchronized？

- 都不可以

#### 23. 数组、String、集合、文件获取长度的方法分别是什么？

- 数组获取长度的手段是`.length`属性
- String获取长度的手段是`length()`方法
- 集合获取长度的手段是`size()`方法
- 文件获取长度的手段是`length()`方法

#### 24. Set里的元素是不能重复的，那么用什么方法来区分重复与否呢？

- 以HashSet为例，判断重复的逻辑是：
   - 首先看hashcode是否相同，如果不同，就是不重复的
   - 如果hashcode一样，再比较equals，如果不同，就是不重复的，否则就是重复的

#### 25. 构造器Constructor是否可以被重写？是否可以继承String类？

- 子类不能继承父类的构造方法，所以就不存在重写父类的构造方法
   - super()表示子类调用父类的构造方法，这不能被叫做继承父类的构造方法
- String是final修饰的，所以不能被继承

#### 26. switch能否作用在byte/long/String上？

- switch可以作用在byte、short、int、String、Enum上，但是不能作用在long上
- switch作用在String上在JDK1.7之后才被支持，实质是编译时将字符串替换为了其对应的hash值

#### 27. `try{}`里面有一个return语句，那么紧跟在这个try后的`finally{}`里的代码会不会被执行？什么时候被执行，在return前还是后？

- try里的return和finally里的return都会执行，但是当前方法只会采纳finally中return的值

#### 28. 两个对象值相同（x.equlas(y)==true;），但却可有不同的hashcode，这句话对不对？

- 因为hashCode()方法和equals()方法都可以通过自定义类重写，是可以做到equals相同，但是hashCode不同的。
- 但是Object类的equals()方法中写了：通常来说，在重写这个方法时，也需要对hashCode()方法进行重写，以此来保证这两个方法的一致性，当equals返回true的时候，这两个对象一定有相同的hashcode
- 所以这句话是错的

#### 29. 垃圾回收的优点和原理，并考虑两种回收机制。

- 与C语言开发人员需要手动进行内存资源的释放不同，Java提供垃圾回收机制，自动进行GC，将开发人员从容易犯错的内存资源管理中解放出来。
- 原理：当某一个对象，没有任何引用指向它的时候，那么他就满足垃圾回收的条件，在适当的时候，JVM虚拟机进行GC将其回收，释放空间，以供后续再利用。
- 两种常见的回收机制
   - 定时回收：
      - 每隔30分钟进行一次回收，这种机制的弊端是如果垃圾产生的比较快，有可能30分钟内就已经把内存占用光了，导致性能变慢。
   - 当内存占用到一定百分比的时候进行回收
      - 比如，当内存占用到70%的时候进行垃圾回收。这种方法的弊端是，如果垃圾产生的频率很快，那么JVM就必须进行高频率的垃圾回收。而在垃圾回收过程中，JVM会停顿下来，只做垃圾回收，而影响业务功能的正常运行。
- 一般来说JVM会采用两种机制结合的方式进行垃圾回收

#### 30. 你所知道的集合类有哪些？主要方法有哪些？

- 常见的集合
   - ArrayList、LinkedList、HashSet、HashMap、TreeSet
- 常见的方法
   - size()
   - add()
   - remove()

#### 31. char型变量中能不能存储一个中文汉字，为什么？

- char是16位的，占用两个字节
- 汉字通常是GBK或者Unicode编码，也是使用两个字节
- 所以可以存储一个中文汉字

#### 32. 解析XML文档有哪几种方式？

- 有两种方式，SAX和DOM
   - SAX：逐行读取，直到找到目标数据为止
   - DOM：先全文档加载，然后读取

#### 33. 关键字：throws、throw、try、catch、finally分别代表什么意思？在try块中可以抛出异常吗？

- throws：用在方法声明上面，表示该方法可能抛出某个异常
- throw：抛出一个指定的异常
- try catch：在try中有可能抛出某个异常，一旦某个异常抛出后，就会在catch中进行捕捉。他们两个一般是成对出现的。
- finally：表示无论是否捕捉到异常，都会执行

#### 34. 一个`.java`源文件中是否可以包括多个类（不是内部类）？有什么限制？

- 可以包括多个类，但是只能出现一个public修饰的类，但是可以出现多个非public修饰的类

#### 35. Java中有几种类型的流

- Java中所有的流都是基于字节流，所以最基本的流是
   - 输入输出字节流
      - InputStream
      - OutputStream
   - 在字节流的基础上，封装了字符流
      - Reader
      - Writer
   - 进一步，又封装了缓存流
      - BufferedReader
      - PrintWriter
   - 以及数据流
      - DataInputStream
      - DataOutputStream
   - 对象流
      - ObjectInputStream
      - ObjectOutputStream

#### 36. Java中会存在内存泄露吗？请简单描述。

- 存在
- 当某些对象不被使用，但是又有非直接引用指向的时候，那么就不满足垃圾回收的条件，而形成内存泄露
- 比如代码中的例子，每个Object创建的时候，有一个引用o指向，接着就被放进了集合al中。 下一个Object创建的时候，上一个Object就没有引用指向了。这些Object都没有引用指向，但是却放在ArrayList中，而这个Arraylist忘记了回收，那么里面的所有对象，都会一直存活下去，虽然不再被使用了。

```java
package j2se;
 
import java.util.ArrayList;
 
public class MemoryLeak {
    static ArrayList<Object> al = new ArrayList<Object>();
 
    public static void main(String[] args) {
 
        for (int i = 0; i < 100; i++) {
            Object o = new Object();
            al.add(o);
        }
 
    }
}
```

#### 37. Java中实现多态的机制是什么？

- 类的多态的条件
   - 父类引用指向子类对象
   - 方法有重写

#### 38. 静态变量和实例变量的区别？

- 静态变量直接通过类就可以访问，无需实例
- 实例变量：比如同构类的某个具体实例，才可以访问

#### 39. 什么是Java序列化

- 序列化指的是把一个Java对象，通过某种介质进行传输，比如Socket输入输出流，或者保存在一个文件中
- 实现Java序列化的手段是让该类实现接口Serializable。这个接口是一个标识性接口，没有任何方法，仅仅用于表示该类可以序列化。

#### 40. 是否可以从一个static方法内部发出对非static方法的调用

- 不行，因为非static方法需要一个具体的实例才可以调用，而调用static方法的时候，不一定存在一个实例