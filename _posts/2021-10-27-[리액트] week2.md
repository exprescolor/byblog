### 유튜브 검색 반환

index.js

```javascript
import React from 'react';
import ReactDom from 'react-dom';
import YTSearch from 'youtube-api-search';
import SearchBar from './components/search_bar';
const API_KEY = '...';

// 매개변수: 구성 옵션, 콜백 함수
YTSearch({key: API_KEY, term: 'serchboards'}, function(data){
    console.log(data);
});

const App = () => {
	return (
    <div>  
        <SearchBar />
    </div>
    );
}

ReactDom.render(<App />, document.querySelector('.container'));
```

refactoring

: 클래스 형 함수로 전환, 유저가 새 검색어를 입력할 때마다 새 검색 프로세스를 통해 스테이트의 검색 결과 세팅

```javascript
import React from 'react';
import ReactDom from 'react-dom';
import YTSearch from 'youtube-api-search';
import SearchBar from './components/search_bar';
const API_KEY = '...';



class App extends Component{
    constructor(props) {
    	super(props);
    
    	this.state = { videos: [] };
        YTSearch({key: API_KEY, term: 'serchboards'}, (data) =>{
            this.seState({ videos: data });
            // key와 value가 같으면 압축 가능
            // this.seState({ videos: videos });
            // == this.seState({ videos });
		});
}     
    
    render() {
        return (
        <div>  
            <SearchBar />
        </div>
        );
	}
}

ReactDom.render(<App />, document.querySelector('.container'));
```

### Props

video_list.js

: 유저 인터렉션을 감지하지 않아도 되고, 리렌더링 안된다

=> 함수 형태로 만들기.

```javascript
import React from 'react';

const VideioList = () => {
 	return (
 		<ul classNAme="col-md-4 list-group">
 		</ul>
 	);
};

export default VideoList;
```

index.js에 VideoList 추가

```javascript
import React from 'react';
import ReactDom from 'react-dom';
import YTSearch from 'youtube-api-search';
import SearchBar from './components/search_bar';
import VideoList from './components/video_list';
const API_KEY = '...';

// 매개변수: 구성 옵션, 콜백 함수
YTSearch({key: API_KEY, term: 'serchboards'}, function(data){
    console.log(data);
});

const App = () => {
	return (
    <div>  
        <SearchBar />
        <VideoList videos={this.state.videos}/>
    </div>
    );
}

ReactDom.render(<App />, document.querySelector('.container'));
```

부모(App) data를 VideoList로 전달하기

prop인 videos가 비디오 리스트로 전달되는 것.

렌더링이 다시 될 때 / 컴포넌트가 setState를 호출하면 -> 새 비디오리스트를 얻게 된다. 



함수 컴포넌트를 사용하면 prop의 오브젝트는 함수의 요소로 들어간다.

클래스 기반 컴포넌트의 props는 어느 메소드의 어디든 this.props를 정의해서 사용할 수 있다.

함수형 -> props

클래스형 -> this.props

```javascript
import React from 'react';

const VideioList = (props) => {
 	return (
 		<ul classNAme="col-md-4 list-group">
        	{props.videos.length}
 		</ul>
 	);
};

export default VideoList;
```

### Map으로 리스트 만들기

VideoListItem 추가

```javascript
import React from 'react';
import VideoListItem from './components/video_list_Item';

const VideioList = (props) => {
    const videoItems = props.videos.map((video) => {
        return <VideoListItem video={video} />
    });
 	return (
 		<ul classNAme="col-md-4 list-group">
        	{videoItems}
 		</ul>
 	);
};

export default VideoList;
```

video_list_item.js

```javascript
import React from 'react';

const VideioListItem = (props) => {
 	return <li>Video</li>
};

export default VideoListItem;
```

** Warning 뜸 : List를 매번 재생성하는 문제

리스트를 만들면서 특별한 요소를 위한 ID를 가지고 있으면 요소가 바뀔 때,  어떤 요소인지 알아채고 업데이트를 한다.

비디오의 각 키를 etag이용하자

```javascript
const VideioList = (props) => {
    const videoItems = props.videos.map((video) => {
        return <VideoListItem key={video.etag} video={video} />
    });

```

