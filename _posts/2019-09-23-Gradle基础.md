---
layout:     post 
title:      Gradle基础
subtitle:   Gradle
date:       2019-09-23
author:     张鹏
header-img: img/home-bg.jpg
catalog: true   
tags:                         
    - Gradle
---

#### Gradle安装

1. 下载Gradle安装包
2. 解压
3. 配置环境变量：
   - 新建环境变量：GRADLE_HOME；值为gradle的安装目录
   - 配置path环境变量：%GRADLE_HOME%\bin
4. 安装成功后，打开CMD窗口，输入gradle -v，出现如下信息即为安装成功。

![gradle安装成功](https://github.com/Jokerboozp/Jokerboozp.github.io/raw/master/img/%E6%89%B9%E6%B3%A8%202019-09-23%20180827.png)

#### Gradle项目目录简介

![Gradle项目结构](https://github.com/Jokerboozp/Jokerboozp.github.io/raw/master/img/%E6%89%B9%E6%B3%A8%202019-09-23%20181750.png)

1. src/main/java：放置正式代码目录
2. src/test/java：放置单元测试代码目录
3. src/main/resources：放置正式配置文件目录
4. src/test/resources：放置测试配置文件目录
5. src/main/webapp：放置页面元素，比如：js、css、img、jsp、html等

#### Gradle简单语法

- 使用IDEA自带的Groovy Console来编辑

```groovy
//介绍Groovy编程
println ("hello groovy");

//groovy中可以省略语句最末尾的分号
println ("hello groovy!")

//groovy可以省略括号
println "hello groovy"

//groovy中如何定义变量
//def是弱类型，groovy会自动根据情况来给变量赋予对应的类型。就像js中的var
def i=17
println i
def s="zhangxiaoxian"
println s

//定义一个集合
def list=['a','b']
//往list中添加元素
list << 'c'
//取出来list中第三个元素
println list.get(2)

//定义一个map
def map=['key1':'value1','key2':'value2']
//往map中添加键值对
map.key3='value3'
//打印出key3的值
println map.get("key3")
```

#### Groovy中的闭包

- 闭包其实就是一段代码块，在gradle中，我们主要是把闭包当作参数来使用

```groovy
//groovy中的闭包
//定义一个闭包
def b1={

    println "hello b1"
}
//定义一个方法，方法里面需要一个闭包类型的参数
def method(Closure closure){
    closure()
}

//调用方法method
method(b1)


//定义一个带参数的闭包
def b2={
    //groovy中定义参数的方法
    v->
        println "hello ${v}"
}
//定义一个方法，方法里面需要一个闭包类型的参数
def method2(Closure closure){
    closure("zhangxiaoxian")
}
//调用方法method
method2(b2)
```

#### Gradle配置文件介绍

- 配置文件为build.gradle

```groovy
plugins {
    id 'java'
}

group 'com.study2'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

/*指定所使用的仓库
* mavenCentral()表示使用中央仓库，此刻项目中所需要的jar包都会默认从中央仓库下载到本地指定目录
* */
repositories {
    mavenCentral()
}
/*gradle工程所有的jar包的坐标都在dependencies属性内放置
* 每一个jar包的坐标都有三个基本元素组成
* group、name、version
* testCompile表示该jar包在测试的时候起作用
* 我们在gradle里面添加坐标的时候都要带上jar包的作用域
* */
dependencies {
    compile group: 'org.springframework', name: 'spring-context', version: '5.1.4.RELEASE'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}
```

#### 让Gradle默认使用本地的maven仓库

