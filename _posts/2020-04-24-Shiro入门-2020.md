---
layout:     post                        # 使用的布局（不需要改）
title:      Shiro入门             # 标题
subtitle:   Shiro学习笔记(一)                  # 副标题
date:       2020-04-24                  # 时间
author:     AhogeK                      # 作者
header-img:  https://images.justwatch.com/backdrop/26024942/s1440/no-game-no-life    # 这篇文章标题背景图片
catalog: true                           # 是否归档
tags:                                   # 标签
    - Shiro
    - 网上视频学习笔记
---

### Shiro的作用
1. 加密项目中的密码
2. 提供访问权限限制

> Apache Shiro 是 Java 的一个安全（权限）框架。Shiro 可以轻松完成：身份认证、授权、加密、会话管理等功能。Shiro 可以非常容易的开发出足够好的应用，其不仅可以用在 JavaSE 环境，也可以用在 JavaEE 环境。功能强大且易用，可以快速轻松地保护任何应用程序（从最小的移动应用程序到最大的Web和企业应用程序。）方便的与Web集成和搭建缓存。

[下载地址](http://shiro.apache.org/)

类似的安全框架还所有 *SpringSecurity*
**相较于 Spring 的安全框架，Shiro学习更容易更简单，而功能足以满足**

### Shiro功能

* *Authentication:* 身份认证/登录，验证用户是不是拥有相应的身份。
* *Athorization:* 授权，即权限验证，验证某个已认证的用户是否拥有某个权限。
* *Session Manager:* 会话管理，即用户登录后就是一次绘画，在没有退出前，他的所有信息都在会话中。（不区分EE环境与SE环境）
* *Cryptography:* 加密，保护数据的安全性，如密码加密存储到数据库，而不是明文存储。
* *Web Support:* Web 支持，可以非常容易的集成到 Web 环境。
* *Caching:* 缓存，比如用户登录后，其用户信息、拥有的角色/权限不必每次去查，以提高效率。
* *Concurrency:* Shiro 支持多线程应用的并法验证，即如果在一个线程中开启另一个线程，能把权限自动传播过去。
* *Testing:* 提供测试支持。
* *Run As:* 允许一个用户假装为另一个用户（如果他们允许）的身份进行访问。
* *Remember Me:* 记住我，一次登录后，下次可以不用再次登录

### Shiro架构

* *Subject:* 应用代码直接交互的对象是 Subject，也就是说 Shiro 的对外 API 核心就是 Subject。Subject 代表当前“用户”，与 Subject 的所有交互都会委托给 SecurityManager；Subject 其实是一个门面，SecurityManager 才是实际执行者。
* *SecurityManager:* 安全管理器；即所有与安全有关的操作都会与 SecurityManager 交互；Shiro 的核心，他负责与 Shiro 的其他组建进行交互，它相当于 SpringMVC 中 DispatcherServlet 的角色。 
* *Realm:* Shiro 从 Realm 获取安全数据（如用户、角色、权限）就是说 SecurityManager 要验证用户身份，那么它需要从 Realm 获取相应用户进行比较以确定用户身份是否合法；也需要从 Realm 得到用户相应的角色 / 权限进行验证用户是否能进行操作

[Shiro源码](https://github.com/apache/shiro)
**源码中有 sample quick start 可供学习**