---
layout:     post 
title:      分布式学习
subtitle:   Dubbo
date:       2020-03-10
author:     张鹏
header-img: img/home-bg.jpg
catalog: true   
tags:                         
    - 分布式
---

# 架构生命周期

![8Pl9GF.png](https://s2.ax1x.com/2020/03/10/8Pl9GF.png)

## 第一时期

### 单一应用架构

all in one：所有的模块和代码都放在一起，技术也不分层

**问题**
1. 代码不具备可维护性
2. 容错性差（因为所有代码都写在JSP页面中，当用户访问或某些原因发生异常时：用户会直接看到异常信息，某些情况下，该错误会直接导致服务器宕机）

## 第一时期后阶段

### 解决方案

1. 分层开发（提高维护性）
2. MVC架构：MVC是一个基于Java WEB应用的设计模式
3. 服务器分离部署

特点：
1. MVC分层开发（提高了可维护性、解决了容错性问题）
2. 数据库和项目分离部署

问题：
随着用户访问量持续增加，单台应用服务器已无法满足需求
**解决方案**
集群

### 会出现如下问题
在互联网项目下，因单个tomcat默认并发量有限制，如果需求量过大，就会产生如下问题：
**高并发**
是互联网分布式系统架构设计中必须考虑的因素之一，它通常是指通过设计保证系统能够同时并行处理很多请求。
高并发相关常用的一些指标有响应时间、吞吐量、每秒查询率QPS、并发用户数等
响应时间：系统对请求做出响应的时间。例如系统处理一个HTTP请求需要200ms，这个200ms就是系统的响应时间
吞吐量：单位时间内处理的请求数量
QPS：每秒响应请求数，在互联网领域，这个指标和吞吐量区分的没有那么明显
并发用户数：同时承载正常使用系统功能的用户数量

**高可用**
通常来描述一个系统经过专门的设计，从而减少停工时间，而保持其服务的高度可用性

**高性能**
是指服务响应时间快，（CPU/处理器/内存）特别是在高并发下响应时间不会急剧增加

### 提高系统的并发能力

提高系统并发能力大的方式，主要有两种：垂直扩展（Scale Up）和水平扩展（Scale Out）

垂直扩展：提升单机处理能力，垂直扩展的方式有两种：
（1）增强单机硬件性能，例如：增加CPU核数，升级更好的网卡，升级更好的硬盘，扩充硬盘容量，扩充系统内存
（2）提升单机架构性能：例如：使用Cache来减少IO次数，使用异步来增加单服务吞吐量，使用无锁数据结构来减少响应时间

水平扩展：只要增加服务器数量，就能线性扩充系统性能，水平扩展对系统架构设计是有要求的，难点在于如何在架构各层进行可水平扩展的设计
