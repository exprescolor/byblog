---
layout:     post 
title:      Java基础0906
subtitle:   线程同步
date:       2019-09-06
author:     张鹏
header-img: img/post-bg-debug.png
catalog: true   
tags:                         
    - Java
---

# Java基础

### 线程同步

- 多个线程之间进行协调的方法叫做线程同步

- 例子：

```java
public class TestSync implements Runnable{
    Timer timer=new Timer();
    public static void main(String[] args){
        TestSync test=new TestSync();
        Thread t1=new Thread(test);
        Thread t2=new Thread(test);
        t1.setName("t1");
        t2.setName("t2");
        //t1和t2都访问的同一个对象timer，所以涉及到线程同步
        t1.start();
        t2.start();
    }
    public void run(){
        timer.add(Thread.currentThread().getName());
    }
}
class Timer{
    private static int num=0;
    public void add(String name){
    //也可以写成public synchronized void add(String name)
    synchronized(this){
    //锁定当前对象
        num++;
        try{Thread.sleep(1);}
        catch(InterruptedException e){}
        System.out.println(name+",你是第"+num+"个使用timer的线程");
    	}
    }
}
```