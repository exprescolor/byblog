---
layout:     post 
title:      Nginx教程
subtitle:   Nginx
date:       2019-10-10
author:     张鹏
header-img: img/nginx.jpg
catalog: true   
tags:                         
    - Nginx
---

#### 什么是Nginx？

- Nginx是一个轻量级且高性能的Http和反向代理服务器，同时也是一个IMAP/POP3/SMTP代理服务器。

#### Nginx下载并启动

- 下载安装：直接解压缩即可
- 启动方式有两种
   - 直接双击：
      - 直接双击nginx.exe即可，会有个内容框一闪而过，其实已经启动成功了，只需要打开访问地址即可看到效果（http://127.0.0.1）
      - ![Nginx启动后结果](https://github.com/Jokerboozp/Jokerboozp.github.io/raw/master/img/%E6%89%B9%E6%B3%A8%202019-10-10%20142221.png)
      - nginx启动之后，在任务管理器中会有两个进程，这是正常的，一个是守护进程，一个是工作进程。
      - 需要关闭nginx的话需要去任务管理器手动关闭。
   - 命令行方式启动
      - 用命令行进入nginx的安装目录下，执行start nginx即可
      - 关闭只需要输入nginx -s stop
      - ![nginx命令行启动关闭](https://github.com/Jokerboozp/Jokerboozp.github.io/raw/master/img/%E6%89%B9%E6%B3%A8%202019-10-10%20142949.png)

#### Nginx配置文件

- nginx.conf是Nginx的核心配置文件。主要内容有：
- 1. 端口号
   - `listen 80;`
- 2. 页面存放位置
   - `root html;`：意思是页面都存放在nginx的html文件夹下
- 3. 欢迎页面
   - `index index.html index.htm`：默认会访问index.html或者index.htm文件

#### 正向代理和反向代理

- 正向代理是一个位于客户端和目标服务器之间的代理服务器（中间服务器）。为了从原始服务器取得内容，客户端向代理服务器发送一个请求，并且指定目标服务器，之后代理向目标服务器转交并且将获得的内容返回给客户端。正向代理的情况下客户端必须要进行一些特别的设置才能使用。
- 反向代理正好相反，对于客户端来说，反向代理就好像目标服务器。并且客户端不需要进行任何设置。客户端向反向代理发送请求，接着反向代理判断请求走向何处，并将请求转交给客户端。客户端并不会感知到反向代理后面的服务，也因此不需要客户端做任何设置，只需要把反向代理服务器当作真正的服务器就好了。
- **两者的区别**
   - 正向代理需要你主动设置代理服务器ip或者域名进行访问，由设置的服务器IP或者域名去获取内容并返回；而反向代理不需要你做任何设置，直接访问服务器真实IP或域名，但是服务器内部会自动根据访问内容进行跳转及内容返回，你不知道他最终访问的是那些机器。
   - 正向代理是代理客户端，为客户端收发请求，使得真实客户端对服务器不可见；而反向代理是代理服务器端，为服务器收发请求，使得真实服务器对客户端不可见。
   - 从上面的描述也能看得出来正向代理和反向代理最关键的两点区别：
      - **是否指定目标服务器**
      - **客户端是否要做设置**
   - 下面用一张图来表示两者的区别