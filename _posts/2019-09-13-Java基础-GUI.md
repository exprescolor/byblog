---
layout:     post 
title:      Java基础0913
subtitle:   GUI
date:       2019-09-13
author:     张鹏
header-img: img/post-bg-debug.png
catalog: true   
tags:                         
    - Java
---

## GUI

#### AWT

- AWT（Abstract Window Toolkit）包括了很多类和接口，用于Java Application的GUI（Graphics User Interface 图形用户界面）编程
- GUI的各种元素（如：窗口、按钮、文本框等）由Java类来实现
- 使用AWT所设计的类一般在java.awt包及其子包中
- Container和Component是AWT中的两个核心类

![AWT分类](https://github.com/Jokerboozp/Jokerboozp.github.io/raw/master/img/%E6%89%B9%E6%B3%A8%202019-09-13%20091617.png)

#### Component

- Java的图形用户界面的最基本组成部分是Component，Component类及其子类的对象用来描述以图形化的方式显示在屏幕上并能与用户进行交互的GUI元素，例如：一个按钮，一个标签等。
- 一般的Component对象不能独立的显示出来，必须将其“放在”某一个Container对象中才能显示出来

#### Container

- Container是Component子类，Container子类对象可以容纳别的Component对象
- Container对象可使用方法`add(...)`向其中添加其他Component对象
- Container是Component的子类，因此Container对象也可以被当作Component对象添加到其他的Container对象中
- 有两种常见的Container：
   - Window：其对象表示自由停泊的顶级窗口
   - Panel：其对象可作为容纳其他Component对象，但不能独立存在，必须被添加到其他Container中的窗口。不能够自由停泊，不是顶级窗口。

#### Frame

- Frame是Window的子类，由Frame或其子类创建的对象为一个窗体
- Frame常用的构造方法：
   - `Frame()`
   - `Frame(String s)`创建标题栏为字符串s的窗口

- 设置Frame的属性

```java
setBounds(int x,int y,int width,int height)//设置窗体位置、大小，x、y是左上角坐标，width、height是宽度和高度
setSize(int width,int height)//设置窗体的大小，width、height是宽度和高度
setLocation(int x,int y)//设置窗体的位置，x、y是左上角坐标
setBackground(Color c)//设置背景颜色，参数为Color对象
setVisble(boolean b)//设置是否可见
setTitle(String name) String getTitle()//标题栏文本
setResizable(boolean b)//设置是否可以调整大小
```
- 例1：

```java
import java.awt.*;
public class TestFrame{
    public static void main(String[] args){
        Frame f=new Frame("My First FrameTest");
        f.setSize(370,300);
        f.setBackground(Color.blue);
        f.setLocation(300,300);
        f.setResizable(false);
        f.setVisible(true);
    }
}
```

- 例2：

```java
import java.awt.*;
public class TestMultiFrame{
    public static void main(String[] args){
        MyFrame f1=new MyFrame(100,100,200,200,Color.blue);
        MyFrame f2=new MyFrame(300,100,200,200,Color.yellow);
        MyFrame f3=new MyFrame(100,300,200,200,Color.green);
        MyFrame f4=new MyFrame(300,300,200,200,Color.magenta);
    }
}
class MyFrame extends Frame{
    static int id=0;
	MyFrame(int x,int y,int w,int h,Color color){
		super("MyFrame " + (++id));
		setBackground(color);
		setLayout(null);
		setBounds(x,y,w,h);
		setVisible(true);
		}
}
```

#### Panel

- Panel对象可以看成容纳Component的空间
- Panel对象可以拥有自己的布局管理器
- Panel类拥有从其父类继承来的方法

```java
setBounds(int x,int y,int width,int height)
setSize(int width,int height)
setLocation(int x,int y)
setBackground(Color c)
setLayout(LayoutManager mgr)
```
- Panel的构造方法为：
   - `Panel()`使用默认的FlowLayout类布局管理器初始化
   - `Panel(LayoutManager mgr)`使用指定的布局管理器初始化

- 例1：

```java
import java.awt.*;
public class TestPanel{
    public static void main(String[] args){
        Frame f=new Frame("Java Frame with Panel");
        Panel p=new Panel(null);
        f.setLayout(null);
        f.setBounds(300,300,500,500);
        f.setBackground(new Color(0,0,102));
        p.setBounds(50,50,400,400);
        p.setBackground(new Color(204,204,255));
        f.add(p);
        f.setVisible(true);
    }
}
```

- 例2：

```java
import java.awt.*;
public class TestMultiPanel{
    public static void main(String[] args){
        new MyFrame("MyFrameWithPanel",300,300,400,300);
    }
}

class MyFrame extends Frame{
    private Panel p1,p2,p3,p4;
    MyFrame(String s,int x,int y,int w,int h){
        super(s);
        setLayout(null);
        p1=new Panel(null);
        p2=new Panel(null);
        p3=new Panel(null);
        p4=new Panel(null);
        p1.setBounds(0,0,w/2,h/2);
        p2.setBounds(0,h/2,w/2,h/2);
        p3.setBounds(w/2,0,w/2,h/2);
        p4.setBounds(w/2,h/2,w/2,h/2);
        p1.setBackground(Color.blue);
        p2.setBackground(Color.red);
        p3.setBackground(Color.yellow);
        p4.setBackground(Color.magenta);
        add(p1);
        add(p2);
        add(p3);
        add(p4);
        setBounds(x,y,w,h);
        setVisible(true);
    }
}
```

#### 布局管理器

- Java语言中，提供了布局管理器类的对象可以管理
   - 管理Component在Container中的布局，不必直接设置Component位置和大小
   - 每个Container都有一个布局管理器对象，当容器需要对某个组件进行定位或判断其大小尺寸时，就会调用其对应的布局管理器，调用Container的setLayout方法改变其布局管理器对象。

- AWT提供了五种布局管理器类：
   - FlowLayout
   - BorderLayout
   - GridLayout
   - CardLayout
   - GridBagLayout

#### FlowLayout

- FlowLayout是Panel类的默认布局管理器
   - FlowLayout布局管理器对组件逐行定位，行内从左到右，一行排满后换行
   - 不改变组件大小，按组件原有尺寸显示组件，可设置不同的组件间距，行距以及对齐方式。

- FlowLayout布局管理器默认的对齐方式是居中
- FlowLayout的构造方法：
   - `new FlowLayout(FlowLayout.RIGHT,20,40)//右对齐，组件之间水平距离20px，垂直距离40px`
   - `new FlowLayout(FlowLayout.LEFT)//左对齐，水平和垂直方向间距为缺省值5`
   - `new FlowLayout()//使用缺省的居中对齐方式，水平和垂直间距为缺省值5`

- 例1：

```java
import java.awt.*;
public class TestFlowLayout{
    public static void main(String[] args){
        Frame f=new Frame("FlowLayout");
        Button b1=new Button("OK");
        Button b2=new Button("Cancle");
        Button b3=new Button("Close");
        f.setLayout(new FlowLayout());
        f.add(b1);
        f.add(b2);
        f.add(b3);
        f.setSize(100,100);
        f.setVisible(true);
    }
}
```

- 例2：

```java
import java.awt.*;
public class TestFlowLayout{
    public static void main(String[] args){
        Frame f=new Frame("java frame");
        FlowLayout l=new FlowLayout(FlowLayout.CENTER,20,40);
        f.setLayout(l);
        f.setLocation(300,400);
        f.setSize(300,200);
        f.setBackground(new Color(204,204,255));
        for(int i=0;i<=7;i++){
            f.add(new Button("BUTTON"));
        }
        f.setVisible(true);
    }
}
```

#### BorderLayout布局管理器

- BorderLayout是Frame类的默认布局管理器
- BorderLayout将整个容器的布局划分成
   - east、west、south、north、center五个区域，组件只能被添加到指定的区域

- 如不指定组件的加入位置，则默认加入到center区
- 每个区域只能加入一个组件，如加入过多，则先前加入的组件会被覆盖
- BorderLayout型布局容器尺寸缩放原则：
   - north、south两个区域在水平方向缩放
   - west、east两个区域在垂直方向缩放
   - center可在两个方向上缩放

![]()