---
layout:     post 
title:      Java基础0919
subtitle:   构造函数
date:       2019-09-19
author:     张鹏
header-img: img/post-bg-debug.png
catalog: true   
tags:                         
    - Java
---

### Java构造函数

#### 构造函数的概念

- 构造函数是函数的一种特殊形式。构造函数中不需要定义返回类型（void是无需返回值的意思，和构造方法不同），且构造函数的名称与所在的类名完全一致，其余的与函数的特性相同，可以带有参数列表，可以存在函数的重载现象。

#### 构造函数的格式

```java
public class Demo{
    private int num=0;
    
    //无参构造函数
    Demo(){
        System.out.println("constractor_run");
    }
    //有参构造函数
    Demo(int num){
        System.out.println("constractor_args_run");
    }
    //普通成员函数
    public void demoFunction(){
        System.out.println("function_run");
    }
}
```
- 如果类中我们不声明构造函数，JVM会帮我们默认生成一个空参数的构造函数；如果在类中我们声明了带参数列表的构造函数，JVM就不会帮我们默认生成一个空参数的构造函数，我们想要使用空参数的构造函数就必须自己去显式的声明一个空参的构造函数

#### 构造函数的作用

- 创建对象。任何一个对象创建时，都需要初始化才能使用，所以任何类想要创建实例对象就必须具有构造函数
- 对象初始化。构造函数可以对对象进行初始化，并且是给与之格式（参数列表）相符合的对象初始化。是具有一定针对性的初始化函数。

#### 构造函数与普通函数的区别

- 格式不同：
   - 构造函数不存在返回类型，函数名与所在类的类名一致
   - 普通函数有返回类型，函数名可以根据需求进行命名
- 调用时期不同
   - 构造函数在类的对象创建时就运行
   - 普通函数在对象调用时才会执行
- 执行次数不同
   - 一个对象创建后，其构造函数只执行一次，就是创建时执行
   - 一个对象创建后，其普通函数可以执行多次，取决于对象的调用次数

#### 构造函数的使用场景

- 既然构造函数是对新对象进行初始化，那么当开发过程中分析事物的时候，发现事物一出现就具备了某些特征时，就可以将其定义在构造函数中，这样方便快捷，也符合面向对象的编程思想

#### 构造函数在继承中的特点

- 在继承中，子类创建的对象可以调用父类的公共方法和属性，那么子类会不会调用父类的构造函数呢？子类的构造函数与父类的构造函数有什么关系？子类的构造函数需要注意什么问题呢？
   - 子类会不会调用父类的函数？
      - 子类继承父类，子类对象初始化时父类的构造函数也会执行，因为子类需要父类中的属性，子类需要知道是如何初始化的，所以子类初始化就必然会调用父类的构造函数（除非父类没有属性）
   - 子类的构造函数与父类的构造函数有什么关系？
      - 子类的构造函数中默认的第一行有一条隐式语句super()，该语句会访问父类中的空参数构造函数。除非父类中没有空参数的构造函数，那么子类构造函数的第一行必须显式调用父类的构造函数，即super(int x,...)
   - 子类的构造函数需要注意什么问题？
      - 子类的构造函数中，super()语句代表调用了父类的构造函数；this()语句代表了子类自身的构造函数。需要注意的是，这两条语句显式写出来必须放在构造方法的第一行，而且这两条语句不能共存，一个构造函数的第一行要么是super()，要么是this()。
      - 为什么在第一行？因为需要首先进行初始化。
      - 为什么不能共存？因为this()代表的本类的其他构造函数，也会去调用super()，出现了this()就没有必要再出现super()了，重复调用没有意义。换言之，子类中至少有一个构造函数的开头为super()，当然也可以隐式存在；也就是说至少有一个构造函数的开头不是this()。