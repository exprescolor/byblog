---
layout:     post
title:      C和C++谁的效率高
date:       2021-02-08
author:     Yukun SHANG
catalog: 	 true
tags:
    - C/C++
---



# C和C++谁的效率高

这个问题不能从单一维度去看待，各有各的特性。本文将从以下几个维度去思考：

#### 开发效率

一般开发过程中，往往会涉及复杂的对象和关系，这时候C++的OOP特性就有助于提高开发效率。

#### 执行效率

一般谈到“效率”，更多的是指执行效率。至少我在刚接触C语言的时候，认为语言越简单，越接近底层，效率和性能就越好。表面上看似乎如此，但是后来觉得事情没那么简单。

##### 一个简单的例子：输出

C语言最经典的输出是用`printf`函数，这个地球人都知道。

C++的最常用的输出是`std::cout`，这个地球人也知道。

一般`printf`的参数写法比较麻烦，`std::cout`的写法就很方便。但是，在一些编程竞赛中，C++选手们往往倾向于使用`printf`来输出。这是因为`std::cout`输出效率没有`printf`快。有些题目需要把系统输出的时间纳入考量，所以`printf`更受青睐。

但是转折又来了，后来我看William Lin的kick start视频的时候，发现他的C++是用`std::cout`输出的，因为他的代码里面多了这两行：

```C++
ios::sync_with_stdio(0);
cin.tie(0);
```

上面两行代码的作用是去加速`std::cout`。这样C++的原生输出方式就不比C慢多少（具体谁快谁慢还没去查证）。

##### 逃脱不了的特性：C++是C的超集

从语言特性上来说，C++是C的超集。从这个角度去看，似乎比较这两者没有意义，因为C++的编译器可以认识C代码并且去编译，如果哪部分C++代码慢，就换成C代码，反之亦然。

##### 从标准库看

```
例如C++中std::sort函数肯定比C语言中的qsort快（因为template function的优点），但是C++中的iostream系列又比C的printf系列慢几乎3倍，但是由于C++标准库功能比C语言大得多，许多时候我们可以用较少的开发时间就在C++中实现相同的算法。
```

上面这段话摘自https://cloud.tencent.com/developer/article/1668362



#### 结论

比较了一通，发现这个问题似乎没什么意义。

C和C++各有各的特性，不能简单地说谁比谁效率高。

只是一般来说，开发的时候，用C++写代码比较快就可以实现功能。





### Reference

https://www.zhihu.com/question/19779887

https://zhuanlan.zhihu.com/p/97401998