---
layout:     post
title:      从0开始入门学习git全记录
subtitle:   三：远程仓库、分支管理、标签管理
date:       2018-12-21
author:     YX
header-img: img/post-bg-github-cup.jpg
catalog: true
tags:
    - git
---

> 闭起双眼我最挂念谁 
> 眼睛张开身边竟是谁


### 1、远程仓库
---

- 生成SSH Key，在git GUI中 -Help -about ssh

	![](https://i.imgur.com/8rQ6Te0.png)

- 或者使用以下命令，你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码。如果一切顺利的话，可以在用户主目录里找到.ssh目录，里面有id_rsa和id_rsa.pub两个文件，这两个就是SSH Key的秘钥对，id_rsa是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人


		$ ssh-keygen -t rsa -C "youremail@example.com"

- github上添加该SSH

	![](https://i.imgur.com/nPGRLFp.png)

#### 1.1 添加远程库

命令速记: 

- $ git remote add origin git@github.com:yuan6238816/learn_git.git
- $ git pull origin master
- $ git push -u origin master -f
- $ git push origin master

- github网站新建仓库
	
	点击新建仓库
	![](https://i.imgur.com/Pi3cUYa.png)

	填好相关信息
	![](https://i.imgur.com/LpN4FPm.png)

	效果
	![](https://i.imgur.com/gHIW7cm.png)

- 本地仓库建好之后，使用以下命令把本地库关联远程库

		$ git remote add origin git@github.com:yuan6238816/learn_git.git	

- 使用以下命令把本地仓库的内容推送到GitHub仓库

		$ git push -u origin master

		The authenticity of host 'github.com (52.74.223.119)' can't be established.
		RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
		Are you sure you want to continue connecting (yes/no)? y
		Please type 'yes' or 'no': yes
		
		Warning: Permanently added 'github.com,52.74.223.119' (RSA) to the list of known hosts.
		
		To github.com:yuan6238816/learn_git.git
		 ! [rejected]        master -> master (fetch first)
		error: failed to push some refs to 'git@github.com:yuan6238816/learn_git.git'
		hint: Updates were rejected because the remote contains work that you do
		hint: not have locally. This is usually caused by another repository pushing
		hint: to the same ref. You may want to first integrate the remote changes
		hint: (e.g., 'git pull ...') before pushing again.
		hint: See the 'Note about fast-forwards' in 'git push --help' for details.

	首先，当你第一次使用Git的clone或者push命令连接GitHub时，会得到一个警告：

		The authenticity of host 'github.com (52.74.223.119)' can't be established.
		RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.

	这是因为Git使用SSH连接，而SSH连接在第一次验证GitHub服务器的Key时，需要你确认GitHub的Key的指纹信息是否真的来自GitHub的服务器，输入yes回车即可。
	Git会输出一个警告，告诉你已经把GitHub的Key添加到本机的一个信任列表里了。

		Warning: Permanently added 'github.com,52.74.223.119' (RSA) to the list of known hosts.

	最后很不幸的报error了... 查找问题后一下魔鬼操作可解决

	
		本地库关联远程库
		$ git remote add origin git@github.com:yuan6238816/learn_git.git
		
		把本地仓库的变化连接到远程仓库主分支
		$ git pull origin master
		
		把本地仓库的文件推送到远程仓库  
		$ git push -u origin master 
		
		提示：远程的原本落后与整个版本
		Warning: Permanently added the RSA host key for IP address '13.229.188.59' to the list of known hosts.
		warning: no common commits
		remote: Enumerating objects: 3, done.
		remote: Counting objects: 100% (3/3), done.
		remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
		Unpacking objects: 100% (3/3), done.
		From github.com:yuan6238816/learn_git
		 * branch            master     -> FETCH_HEAD
		 * [new branch]      master     -> origin/master
		fatal: refusing to merge unrelated histories
	
		强制push
		$ git push -u origin master -f 
	
		Counting objects: 16, done.
		Delta compression using up to 4 threads.
		Compressing objects: 100% (10/10), done.
		Writing objects: 100% (16/16), 1.25 KiB | 320.00 KiB/s, done.
		Total 16 (delta 2), reused 0 (delta 0)
		remote: Resolving deltas: 100% (2/2), done.
		To github.com:yuan6238816/learn_git.git
		 + 2c2954a...288cfed master -> master (forced update)
		Branch 'master' set up to track remote branch 'master' from 'origin'.
	
		搞定，回家炒菜，其实并不会炒菜...	
		其实一般开发的步骤，git init 之后我们都需要从远端pull，然后再做更改，再push

- 此后，每次本地提交后，只要有必要，就可以使用命令推送最新修改


		git push origin master

#### 1.2 从远程库克隆

要克隆一个仓库，首先必须知道仓库的地址，然后使用git clone命令克隆。Git支持多种协议，包括https，但通过ssh支持的原生git协议速度最快。先初始化一个本地库git_clone，进入该目录后：

	Administrator@MS-20180831PHHJ MINGW64 /e/YxWork/git/git_clone (master)
	$ git clone git@github.com:yuan6238816/learn_git.git
	Cloning into 'learn_git'...
	remote: Enumerating objects: 19, done.
	remote: Counting objects: 100% (19/19), done.
	remote: Compressing objects: 100% (10/10), done.
	remote: Total 19 (delta 3), reused 19 (delta 3), pack-reused 0
	Receiving objects: 100% (19/19), done.
	Resolving deltas: 100% (3/3), done.
