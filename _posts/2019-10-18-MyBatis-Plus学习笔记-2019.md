---
layout:     post                    # 使用的布局（不需要改）
title:      MyBatis-Plus学习笔记           # 标题 
subtitle:   快速入门             #副标题
date:       2019-10-17              # 时间
author:     AhogeK                      # 作者
header-img: img/mybatis_plus.png   #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - java
    - MyBatis-Plus
    - 学习笔记
---

1. MySQL 字段使用 DATETIME 数据时，由于 DATETIME 不像 TIMESTAMP 那样自动支持时区转换，故需要手动添加 时区设置：serverTimezone=GMT%2B8

2. SQLNonTransientConnectionException: Public Key Retrieval is not allowed
问题原因mysql是8.0 springboot里写的是com.mysql.jdbc.Driver 换成com.mysql.cj.jdbc.Driver
连接数据库的url中，加上allowPublicKeyRetrieval=true 

3. 注解（一）

  * @SpringBootApplication    启动器
  * @Data       lombok  ,用于简化代码，自动添加get，set方法。
  * @MapperScan("")    mapper扫描器，引号内写mapper包路径
  * @Autowired    注入依赖，如mapper

————单元测试注解————

* ‌@SpringBootTest    测试类注解
* @RunWith(SpringRunner.class)
* @Test   测试方法注解

‌4. 插入时id未定义且主键id非自增问题，如果自己没有配置主键策略，MP的默认主键策略是基于雪花算法的自增主键。在MP的源码中有雪花算法的实现代码。1134646077845229570这个值是MP框架通过代码调用计算出来的值。
‌
## Mapper CRUD 接口
说明： 
* 通用 CRUD 封装BaseMapper接口，为 Mybatis-Plus 启动时自动解析实体表关系映射转换为 Mybatis 内部对象注入容器
* 泛型 T 为任意实体对象
* 参数 Serializable 为任意类型主键 Mybatis-Plus 不推荐使用复合主键约定每一张表都有自己的唯一 id 主键
* 对象 Wrapper 为 条件构造器

#### insert

```java
/**
 * <p>
 * 插入一条记录
 * </p>
 *
 * @param entity 实体对象
 * @return 插入成功记录数
 */
int insert(T entity);
```