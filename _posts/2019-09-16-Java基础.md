---
layout:     post 
title:      Java基础0916
subtitle:   Paint方法、Adapter方法、repaint方法
date:       2019-09-16
author:     张鹏
header-img: img/post-bg-debug.png
catalog: true   
tags:                         
    - Java
---

# Java基础

#### Graphics类

- 每个Component都有一个`patin（Graphics g）`用于实现绘图目的。每次重画该Component时都会自动调用paint方法
- Graphics类中提供了许多绘图方法，如：
   - `drawRect(int x,int y,int width,int height)`
   - `fillRoundRect(int x,int y,int height,int width,int arcWidth,int arcHeight)`

- 例子：

```java
import java.awt.*;

public class TestPaint{
    public static void main(String[] args){
        new PaintFrame().launchFrame();
    }
}

class PaintFrame extends Frame{
    public void launchFrame(){
        setBounds(200,200,640,480);
        setVisible(true);
    }
    public void paint(Graphics g){
        Color c=g.getColor();
        g.setColor(Color.red);
        g.fillOval(50,50,30,30);
        g.setColor(Color.green);
        g.fillRect(80,80,40,40);
        g.setColor(c);
    }
}
```

#### 鼠标事件适配器

- 抽象类java,awt.event.MouseAdapter实现了MouseListener接口，可使用其子类作为MouseEvent的监听器，只需要重写其相应的方法即可。
- 对于其他的监听器，也有对应的适配器
- 使用适配器监听可以避免监听器类定义没有的空方法
- 例子：

```java
import java.awt.*;
import java.awt.event.*;
import java.util.*;
public class MyMouseAdapter{
    public static void main(String[] args){
        new MyFrame("Drawing....");
    }
}

class MyFrame extends Frame{
    ArrayList points=null;
    MyFrame(String s){
        super(s);
        points=new ArrayList();
        setLayout(null);
        setBounds(100,300,400,300);
        this.setBackground(new Color(204,204,255));
        setVisible(true);
        this.addMouseListener(new Monitor());
    }
    public void paint(Graphics g){
        Iterator i=points.iterator();
        while(i.hasNext()){
            Point p=(Point)i.next();
            g.setColor(Color.blue);
            g.fillOval(p.x,p.y,10,10);
        }
    }
    public void addPoint(Point p){
        points.add(p);
    }
    class Monitor extends MouseAdapter{
        public void mousePressed(MouseEvent e){
            MyFrame f=(MyFrame)e.getSource();
            f.addPoint(new Point(e.getX(),e.getY()));
            f.repaint();//让frame强制进行重画
        }
    }
}
```