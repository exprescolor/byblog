<html>
<div>
    <br>catalogue here. mocking some integration systems.</br>
    <form action="/test_nodejs_api" method="get">
        country: <input type="text" name="country"/>
        product code: <input type="text" name="code"/>
        <input type="submit" value="Submit"/>
    </form>

    <select>
        <option value="NI">非集成</option>
        <option value="lbp">lbp</option>
        <option value="crm">crm</option>
        <option value="ecomm">ecomm</option>
        <option value="lms">lms</option>
    </select>

    <input type="button" name="mock_integration" value="模拟集成" onclick="partRefresh('ecomm','liecomm')">
    <input type="button" name="clear" value="清除缓存" onclick="clear()">

</div>

<iframe name="iframe_dcsc" id="iframe_dcsc_id" width="1200" height="500" src='https://us-dcsc.lenovo.com/#/'
        frameborder="1" allowfullscreen></iframe>


<script type="text/javascript">
    function partRefresh(site, role) {
        let param = '?time=' + new Date().getTime();
        if (site === 'ecomm') {
            param += '&token=ecomm';
        } else if (site === 'lms') {
            param += '&token=LMS_BP';
        }
        document.getElementById("iframe_dcsc_id").src = 'https://us-dcsc.lenovo.com/#/' + param;
        console.log(document.getElementById("iframe_dcsc_id").src);
    }

    function clear() {
        document.getElementById("iframe_dcsc_id").src = 'http://www.google.com'+'?time=' + new Date().getTime();
        console.log(document.getElementById("iframe_dcsc_id").src);
    }
</script>



</html>